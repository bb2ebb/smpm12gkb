SELECT 
COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='11')) THEN 1 ELSE NULL END) AS l11,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='12')) THEN 1 ELSE NULL END) AS l12,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='13')) THEN 1 ELSE NULL END) AS l13,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='14')) THEN 1 ELSE NULL END) AS l14,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='15')) THEN 1 ELSE NULL END) AS l15,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='16')) THEN 1 ELSE NULL END) AS l16,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='17')) THEN 1 ELSE NULL END) AS l17,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='18')) THEN 1 ELSE NULL END) AS l18,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='19')) THEN 1 ELSE NULL END) AS l19,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='20')) THEN 1 ELSE NULL END) AS l20,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='21')) THEN 1 ELSE NULL END) AS l21,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='22')) THEN 1 ELSE NULL END) AS l22,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='11')) THEN 1 ELSE NULL END) AS p11,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='12')) THEN 1 ELSE NULL END) AS p12,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='13')) THEN 1 ELSE NULL END) AS p13,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='14')) THEN 1 ELSE NULL END) AS p14,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='15')) THEN 1 ELSE NULL END) AS p15,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='16')) THEN 1 ELSE NULL END) AS p16,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='17')) THEN 1 ELSE NULL END) AS p17,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='18')) THEN 1 ELSE NULL END) AS p18,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='19')) THEN 1 ELSE NULL END) AS p19,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='20')) THEN 1 ELSE NULL END) AS p20,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='21')) THEN 1 ELSE NULL END) AS p21,

COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='22')) THEN 1 ELSE NULL END) AS p22,

(COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='11')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='12')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='13')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='14')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='15')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='16')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='17')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='18')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='19')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='20')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='21')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='22')) THEN 1 ELSE NULL END)) AS l,

(COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='11')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='12')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='13')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='14')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='15')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='16')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='17')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='18')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='19')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='20')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='21')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='22')) THEN 1 ELSE NULL END)) AS p


((COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='11')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='12')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='13')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='14')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='15')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='16')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='17')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='18')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='19')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='20')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='21')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='22')) THEN 1 ELSE NULL END))+(COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='11')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='12')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='13')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='14')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='15')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='16')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='17')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='18')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='19')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='20')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='21')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='22')) THEN 1 ELSE NULL END))) AS jml


FROM siswadatainduk GROUP BY kelas, subkelas HAVING kelas='7' ORDER BY kelas,subkelas ASC;
