<?php

defined('BASEPATH') OR exit('No direct script access allowed');

class Jumlahsiswa extends CI_Controller {

    public function index() {
        $sql7 = "SELECT COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2')) THEN 1 ELSE NULL END) AS l,COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2')) THEN 1 ELSE NULL END) AS p, (COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2')) THEN 1 ELSE NULL END)) AS jml, CONCAT((SELECT uraian FROM kelas WHERE id=kelas),' ',(SELECT uraian FROM subkelas WHERE id=subkelas)) AS ckelas FROM siswadatainduk GROUP BY kelas, subkelas HAVING kelas='7' ORDER BY kelas,subkelas ASC";
        $sql8 = "SELECT COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2')) THEN 1 ELSE NULL END) AS l,COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2')) THEN 1 ELSE NULL END) AS p, (COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2')) THEN 1 ELSE NULL END)) AS jml, CONCAT((SELECT uraian FROM kelas WHERE id=kelas),' ',(SELECT uraian FROM subkelas WHERE id=subkelas)) AS ckelas FROM siswadatainduk GROUP BY kelas, subkelas HAVING kelas='8' ORDER BY kelas,subkelas ASC";
        $sql9 = "SELECT COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2')) THEN 1 ELSE NULL END) AS l,COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2')) THEN 1 ELSE NULL END) AS p, (COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2')) THEN 1 ELSE NULL END)) AS jml, CONCAT((SELECT uraian FROM kelas WHERE id=kelas),' ',(SELECT uraian FROM subkelas WHERE id=subkelas)) AS ckelas FROM siswadatainduk GROUP BY kelas, subkelas HAVING kelas='9' ORDER BY kelas,subkelas ASC";
        $sql789 = "SELECT kelas, status, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2')) THEN 1 ELSE NULL END) AS l,COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2')) THEN 1 ELSE NULL END) AS p, (COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2')) THEN 1 ELSE NULL END)) AS jml, (SELECT uraian FROM kelas WHERE id=kelas) AS ckelas FROM siswadatainduk GROUP BY kelas ORDER BY kelas ASC";
        $data['kelas7'] = $this->db->query($sql7)->result();
        $data['kelas8'] = $this->db->query($sql8)->result();
        $data['kelas9'] = $this->db->query($sql9)->result();
        $data['kelas789'] = $this->db->query($sql789)->result();
        $this->load->view('siswadashbor/jumlahsiswa', $data);
    }
    public function usia() {
        $sql = "SELECT kelas, CONCAT((SELECT uraian FROM kelas WHERE id=kelas),' ',(SELECT uraian FROM subkelas WHERE id=subkelas)) AS ckelas,COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='11')) THEN 1 ELSE NULL END) AS l11, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='12')) THEN 1 ELSE NULL END) AS l12, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='13')) THEN 1 ELSE NULL END) AS l13, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='14')) THEN 1 ELSE NULL END) AS l14, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='15')) THEN 1 ELSE NULL END) AS l15, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='16')) THEN 1 ELSE NULL END) AS l16, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='17')) THEN 1 ELSE NULL END) AS l17, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='18')) THEN 1 ELSE NULL END) AS l18, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='19')) THEN 1 ELSE NULL END) AS l19, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='20')) THEN 1 ELSE NULL END) AS l20, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='21')) THEN 1 ELSE NULL END) AS l21, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='22')) THEN 1 ELSE NULL END) AS l22, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='11')) THEN 1 ELSE NULL END) AS p11, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='12')) THEN 1 ELSE NULL END) AS p12, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='13')) THEN 1 ELSE NULL END) AS p13, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='14')) THEN 1 ELSE NULL END) AS p14, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='15')) THEN 1 ELSE NULL END) AS p15, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='16')) THEN 1 ELSE NULL END) AS p16, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='17')) THEN 1 ELSE NULL END) AS p17, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='18')) THEN 1 ELSE NULL END) AS p18, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='19')) THEN 1 ELSE NULL END) AS p19,COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='20')) THEN 1 ELSE NULL END) AS p20, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='21')) THEN 1 ELSE NULL END) AS p21, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='22')) THEN 1 ELSE NULL END) AS p22, (COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='11')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='12')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='13')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='14')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='15')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='16')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='17')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='18')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='19')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='20')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='21')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='22')) THEN 1 ELSE NULL END)) AS l,(COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='11')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='12')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='13')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='14')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='15')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='16')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='17')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='18')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='19')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='20')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='21')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='22')) THEN 1 ELSE NULL END)) AS p,((COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='11'))  THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='12')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='13')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='14')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='15')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='16')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='17')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='18')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='19')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='20')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='21')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='22')) THEN 1 ELSE NULL END))+(COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='11')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='12')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='13')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='14')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='15')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='16')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='17')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='18')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='19')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='20')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='21')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='22')) THEN 1 ELSE NULL END))) AS jml FROM siswadatainduk GROUP BY kelas, subkelas ORDER BY kelas,subkelas ASC";
        $sql_kel = "SELECT kelas, (SELECT uraian FROM kelas WHERE id=kelas) AS ckelas,COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='11')) THEN 1 ELSE NULL END) AS l11, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='12')) THEN 1 ELSE NULL END) AS l12, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='13')) THEN 1 ELSE NULL END) AS l13, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='14')) THEN 1 ELSE NULL END) AS l14, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='15')) THEN 1 ELSE NULL END) AS l15, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='16')) THEN 1 ELSE NULL END) AS l16, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='17')) THEN 1 ELSE NULL END) AS l17, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='18')) THEN 1 ELSE NULL END) AS l18, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='19')) THEN 1 ELSE NULL END) AS l19, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='20')) THEN 1 ELSE NULL END) AS l20, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='21')) THEN 1 ELSE NULL END) AS l21, COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='22')) THEN 1 ELSE NULL END) AS l22, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='11')) THEN 1 ELSE NULL END) AS p11, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='12')) THEN 1 ELSE NULL END) AS p12, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='13')) THEN 1 ELSE NULL END) AS p13, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='14')) THEN 1 ELSE NULL END) AS p14, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='15')) THEN 1 ELSE NULL END) AS p15, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='16')) THEN 1 ELSE NULL END) AS p16, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='17')) THEN 1 ELSE NULL END) AS p17, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='18')) THEN 1 ELSE NULL END) AS p18, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='19')) THEN 1 ELSE NULL END) AS p19,COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='20')) THEN 1 ELSE NULL END) AS p20, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='21')) THEN 1 ELSE NULL END) AS p21, COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='22')) THEN 1 ELSE NULL END) AS p22, (COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='11')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='12')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='13')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='14')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='15')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='16')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='17')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='18')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='19')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='20')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='21')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='22')) THEN 1 ELSE NULL END)) AS l,(COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='11')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='12')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='13')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='14')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='15')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='16')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='17')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='18')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='19')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='20')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='21')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='22')) THEN 1 ELSE NULL END)) AS p,((COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='11'))  THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='12')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='13')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='14')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='15')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='16')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='17')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='18')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='19')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='20')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='21')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='2' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='22')) THEN 1 ELSE NULL END))+(COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='11')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='12')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='13')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='14')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='15')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='16')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='17')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='18')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='19')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='20')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='21')) THEN 1 ELSE NULL END)+COUNT(CASE WHEN (jeniskelamin='1' AND (status='1' OR status='2') AND ((YEAR(NOW())-YEAR(tanggallahir))='22')) THEN 1 ELSE NULL END))) AS jml FROM siswadatainduk GROUP BY kelas ORDER BY kelas ASC";
        
        $data['kelas'] = $this->db->query($sql)->result();
        $data['kelas_kel'] = $this->db->query($sql_kel)->result();
        $this->load->view('siswadashbor/jumlahsiswa_usia', $data);
    }

}
